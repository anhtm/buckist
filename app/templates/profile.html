{% extends "base.html" %} 


{% block stylesheet %}
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
{% endblock %}


{% block main %}
{% block content %}
<div class="section">
  <div class="container">
    <h3 class="title is-4">Hi {{ user.first_name }}, Welcome Back!</h3>
  </div>

<br>

<div class="lists container">
  <!-- Lists -->
  <div class="columns is-multiline">

    {% for list in lists %}
    <div class="column is-one-third">
      <div class="card a-list box">

      <!-- List Header -->
        <header class="card-header">
          <p id="{{list.id}}" class="card-header-title">{{list.name}}</p>

          <!-- Dropdown V button -->
          <div class="dropdown is-hoverable">
            <div class="dropdown-trigger">
              <button class="button is-white" aria-haspopup="true" aria-controls="dropdown-menu">
                <a class="card-header-icon">
                  <span class="icon"> <i class="fa fa-angle-down"></i> </span>
                </a>
              </button>
            </div>

            <!-- Dropdown Menu & functions -->
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
              <div class="dropdown-content">

                <a class="dropdown-item edit-list">Edit</a>

                <!-- Delete list -->
                <a id="delete-list" class="delete-list dropdown-item"> Delete </a>

                <!-- Share -->
                <a href="#" class="dropdown-item">Share</a>
              </div>
            </div>
          </div>
        </header>

        <!-- Items -->
        <div class="card-content">

        <!-- Item Content - NOT COMPLETED -->
          <ul>
            {% for item in list.items %}
              {% if not item.is_done %}
               <li id="{{item.id}}" class="item">
                  {{item.content}}

                  <!-- Functions -->
                    {% include "item_functions.html" %}
              </li>
              {% endif %}
            {% endfor %}
          </ul>
      </div>


          <!-- Completed Item -->
          <!-- <hr> -->
        <div class="card-content archived-pointer">
          <!-- <h3 class="subtitle"> Completed </h3> -->
          <ul class="archived-items" hidden>
            {% for item in list.items %}
              {% if item.is_done  %}  
                <li id="{{item.id}}" class="item">
                  {{item.content}}
                
                <!-- Functions -->
                  {% include "item_functions.html" %}
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </div>

        <!-- Add Item -->
        <footer class="card-content">
          <a class="add-item" title="Add New Item"> <i class="fa fa-plus"></i></a>
        </footer>

      </div>
    </div>
    {% endfor %}

  </div>

  <!-- Add List -->
  <a class="add-btn" title="Add New List"> <i class="fa fa-plus-circle fa-3x" aria-hidden="true"></i></a>

</div>
</div>
{% endblock %}
  
  <!-- Delete List Form -->
  <form class="hidden delete-list-form" role="form">
    <input type="submit" value="Delete">
  </form>


  <!-- Delete Item Form -->
  <form class="hidden delete-item-form" role="form">
     <input id="delete-item-btn" type="submit" value="Delete">
  </form>

  
  <!-- Add List Modal -->
  
    {% include "addlist_modal.html" %} 
  
  <!-- Edit List Modal -->

     {% include "editlist_modal.html" %} 

  <!-- Add Item Modal -->
     {% include "add_item.html" %}

  <!-- Edit Item Modal -->
  
    {% include "edit_item.html" %}
  
  <!-- Change Status Modal -->
  
    {% include "changestatus_modal.html" %}
  


{% endblock %}


{% block script %}
  <script type="text/javascript" src="/static/profile.js"></script>
{% endblock %}



