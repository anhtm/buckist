{% extends "base.html" %} {% block content %}
<div class="section">
  <h3>Hi {{ user.first_name }}, Welcome Back!</h3>
</div>

<div class="lists container">

  <div class="columns is-multiline">
    {% for list in lists %}
    {{list.name}}
    <div class="column is-one-third">
      <div class="card a-list">
        <header class="card-header">
          <p id="l{{list.id}}" class="card-header-title">{{list.name}}</p>

          <div class="dropdown is-hoverable">
            <div class="dropdown-trigger">
              <button class="button is-white" aria-haspopup="true" aria-controls="dropdown-menu">
                <a class="card-header-icon">
                  <span class="icon"> <i class="fa fa-angle-down"></i> </span>
                </a>
              </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
              <div class="dropdown-content">
                <a id="{{list.id}}" href="#editlist-modal" class="dropdown-item edit-list">Edit</a>
                <a id="delete-list" class="dropdown-item">
                        <form id="delete-form" action='/deletelist/{{list.id}}' method='POST'>
                            <input type='submit' name='delete_list' value="Delete">
                        </form>
                      </a>
                <a href="#" class="dropdown-item">Share</a>
              </div>
            </div>
          </div>
        </header>

        <div class="card-content">
          <div class="content">
            {% for item in list.items %}
            <p> <i class="fa fa-square-o checkbox" aria-hidden="true"></i> &nbsp; {{item.content}} | {{item.is_done}} <a href='/updateitem/{{item.id}}'> Update</a> </p>
            {% endfor %}
          </div>
        </div>

        <footer class="card-footer">
          <a class="card-footer-item" href="{{ url_for('add_item', listid=list.id)}}"> Add Item </a>
        </footer>

      </div>
    </div>


    {% endfor %}
  </div>

  <a class="add-btn" href="#addlist-modal"> <i class="fa fa-plus-circle fa-3x" aria-hidden="true"></i></a>
  {% block addlistmodal %} 
    {% include "addlist_modal.html" %} 
  {% endblock %}
  
  {% block listmodal%} 
    {% include "editlist_modal.html" %} 
  {% endblock %}
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="{{url_for('static', filename='profile.js')}}"></script>
{% endblock %}
